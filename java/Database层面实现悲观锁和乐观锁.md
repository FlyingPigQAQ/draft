## 悲观锁 事务 for update


## 乐观锁 +字段Version

> 如果每次访问冲突概率低于20%，建议使用乐观锁，这是因为乐观锁本身不需要对行记录加锁，并发性能较好，另外使用乐观锁时重试次数不少于三次。如果每次访问冲突的概率比较大，那么使用乐观锁会导致重试次数比较高，并且等达到重试次数后，也不一定更新完毕怕，所以这时候建议使用悲观锁。  


**应用层，一般使用分布式锁来做同步，缓存上可以使用Redis的CAS操作来做同步** 
